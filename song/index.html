<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Playlist Analyzer — SoundTrace</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&family=DM+Mono:ital,wght@0,300;0,400;0,500;1,300&family=DM+Sans:wght@300;400;500&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <!-- HEADER -->
  <header class="site-header">
    <div class="logo">SOUND<span>TRACE</span></div>
    <p class="tagline">playlist analysis &amp; timeline visualization</p>
</header>

  <!-- ADD SONG FORM -->
  <section class="add-section">
    <h2 class="section-title">ADD A SONG</h2>
    <form id="song-form" class="song-form" novalidate>
      <div class="form-row">
        <div class="field">
          <label for="song-title">Track Title *</label>
          <input type="text" id="song-title" placeholder="e.g. Blinding Lights" required />
        </div>
        <div class="field">
          <label for="song-artist">Artist *</label>
          <input type="text" id="song-artist" placeholder="e.g. The Weeknd" required />
        </div>
      </div>
      <div class="form-row">
        <div class="field">
          <label for="song-year">Year *</label>
          <input type="number" id="song-year" placeholder="e.g. 2019" min="1900" max="2099" required />
        </div>
        <div class="field">
          <label for="song-genre">Genre</label>
          <select id="song-genre">
            <option value="">Select genre…</option>
            <option value="Pop">Pop</option>
            <option value="Hip-Hop">Hip-Hop</option>
            <option value="R&B">R&amp;B</option>
            <option value="Rock">Rock</option>
            <option value="Electronic">Electronic</option>
            <option value="Jazz">Jazz</option>
            <option value="Classical">Classical</option>
            <option value="Country">Country</option>
            <option value="Latin">Latin</option>
            <option value="Other">Other</option>
          </select>
        </div>
        <div class="field">
          <label for="song-mood">Mood</label>
          <select id="song-mood">
            <option value="">Select mood…</option>
            <option value="Energetic">Energetic</option>
            <option value="Chill">Chill</option>
            <option value="Melancholic">Melancholic</option>
            <option value="Happy">Happy</option>
            <option value="Romantic">Romantic</option>
            <option value="Dark">Dark</option>
            <option value="Uplifting">Uplifting</option>
          </select>
        </div>
      </div>
      <div class="form-row">
        <div class="field full">
          <label for="song-note">Personal Note</label>
          <textarea id="song-note" rows="2" placeholder="Why does this song matter to you?"></textarea>
        </div>
      </div>
      <div class="form-actions">
        <span class="form-error" id="form-error"></span>
        <button type="submit" class="btn-add">+ ADD TO PLAYLIST</button>
      </div>
    </form>
  </section>

  <!-- STATS BAR -->
  <section class="stats-bar" id="stats-bar" style="display:none">
    <div class="stat">
      <span class="stat-num" id="stat-count">0</span>
      <span class="stat-label">Tracks</span>
    </div>
    <div class="stat">
      <span class="stat-num" id="stat-span">—</span>
      <span class="stat-label">Year Span</span>
    </div>
    <div class="stat">
      <span class="stat-num" id="stat-top-genre">—</span>
      <span class="stat-label">Top Genre</span>
    </div>
    <div class="stat">
      <span class="stat-num" id="stat-top-mood">—</span>
      <span class="stat-label">Top Mood</span>
    </div>
  </section>

  <!-- FILTER / SORT -->
  <section class="filter-bar" id="filter-bar" style="display:none">
    <div class="filter-group">
      <label>Filter Genre</label>
      <select id="filter-genre"><option value="">All</option></select>
    </div>
    <div class="filter-group">
      <label>Filter Mood</label>
      <select id="filter-mood"><option value="">All</option></select>
    </div>
    <div class="filter-group">
      <label>Sort By</label>
      <select id="sort-by">
        <option value="added">Date Added</option>
        <option value="year">Year</option>
        <option value="title">Title A–Z</option>
        <option value="artist">Artist A–Z</option>
      </select>
    </div>
    <button class="btn-clear" id="clear-all">CLEAR ALL</button>
  </section>

  <!-- HORIZONTAL TIMELINE -->
  <section class="timeline-section" id="timeline-section" style="display:none">
    <div class="timeline-header">
      <h2 class="section-title">PLAYLIST TIMELINE</h2>
      <span class="drag-hint">← DRAG TO SCROLL →</span>
    </div>
    <!-- outer viewport clips the track -->
    <div class="tl-viewport" id="tl-viewport">
      <!-- this is the draggable track -->
      <div class="tl-track" id="tl-track">
        <!-- items injected by JS -->
      </div>
    </div>
    <!-- the horizontal axis line lives outside the track so it spans the viewport -->
    <div class="tl-axis-bar"></div>
  </section>

  <!-- SONG GRID -->
  <section class="songs-section" id="songs-section" style="display:none">
    <h2 class="section-title">TRACK LIST</h2>
    <div class="song-grid" id="song-grid"></div>
  </section>

  <!-- GENRE CHART -->
  <section class="chart-section" id="chart-section" style="display:none">
    <h2 class="section-title">GENRE BREAKDOWN</h2>
    <div class="bar-chart" id="genre-chart"></div>
  </section>

  <!-- EMPTY STATE -->
  <div class="empty-state" id="empty-state">
    <div class="empty-icon">♫</div>
    <p>Your playlist is empty.<br/>Add your first song above.</p>
  </div>
  
  <script src="app.js"></script>
  <script src="https://test.chesterhuey.com/collector.js"></script>
</body>
</html>